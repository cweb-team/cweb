<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.test.cweb.dao.UserDao">
    <resultMap id="BaseResultMap" type="com.test.cweb.model.User">
        <id column="PK_ID" property="id" jdbcType="INTEGER" />
        <result column="ACCOUNT" property="account" jdbcType="VARCHAR" />
        <result column="PASSWORD" property="password" jdbcType="VARCHAR" />
        <result column="NICKNAME" property="nickname" jdbcType="VARCHAR" />
        <result column="REAL_NAME" property="realName" jdbcType="VARCHAR" />
        <result column="PHONE_NUM" property="phoneNumber" jdbcType="VARCHAR" />
        <result column="EMAIL" property="email" jdbcType="VARCHAR" />
        <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
        <result column="LOGIN_TIME" property="login_Time" jdbcType="TIMESTAMP" />
        <result column="LAST_LOGIN_TIME" property="lastLoginTime" jdbcType="TIMESTAMP" />
        <result column="LOGIN_COUNT" property="loginCount" jdbcType="INTEGER" />
        <result column="LAST_LOGIN_IP" property="lastLoginIP" jdbcType="VARCHAR" />
    </resultMap>
    <sql id="BaseColumnList">
        PK_ID,ACCOUNT,NICKNAME,REAL_NAME,PHONE_NUM
    </sql>
    <select id="findAll" resultMap="BaseResultMap" parameterType="hashMap">
        SELECT <include refid="BaseColumnList"/>
        FROM T_USER
        WHERE REAL_NAME = #{name,jdbcType=VARCHAR}
    </select>
    <select id="findOne" parameterType="hashMap" resultType="User">
        select * from T_USER where REAL_NAME = #{name}
    </select>
</mapper>
